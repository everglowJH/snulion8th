{% extends 'base.html' %}

{% block content %}
    <h1>feed page</h1>
    <a href="/feeds/new">new feed</a>
    <a href="/feeds/{{ feed.id}}/delete" onclick="return confirm('정말 삭제하시겠습니까?')">삭제</a>
    {% for feed in feeds %} 
      <div style="border: 1px solid grey;">
        <a href="/feeds/{{ feed.id }}">더보기</a>
        <a href="/feeds/{{ feed.id }}/delete">삭제</a>
        <p>{{ feed.title }}</p>
        <p>{{ feed.content }}</p>
        {% for c in feed.feedcomment_set.all %}
          <p>{{ c.content }}</p>
          <form action="/feeds/{{ feed.id }}/comments/{{ c.id }}/" method="POST">
            {% csrf_token %}
            <button>댓글 삭제</button>
          </form>
        {% endfor %}
        <form action="/feeds/{{ feed.id }}/comments/" method="POST">
          {% csrf_token %}
          <input type="text" name="content" />
          <button type="submit">댓글 달기</button>
        </form>
      </div>
    {% endfor %} <!-- for를 end시킨다는 뜻! 여기서는 들여쓰기로 끝을 못 내니 -->
    {% endblock content %}